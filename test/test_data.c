#include <stdint.h>
#include "block.h"


struct ByteBlock test_input = { .data = {
	{52, 55, 61, 66,  70,  61,  64, 73},
	{63, 59, 55, 90,  109, 85,  69, 72},
	{62, 59, 68, 113, 144, 104, 66, 73},
	{63, 58, 71, 122, 154, 106, 70, 69},
	{67, 61, 68, 104, 126, 88,  68, 70},
	{79, 65, 60, 70,  77,  68,  58, 75},
	{85, 71, 64, 59,  55,  61,  65, 83},
	{87, 79, 69, 68,  65,  76,  78, 94}
}};

// This is a listing from https://en.wikipedia.org/wiki/Jpeg#Discrete_cosine_transform
struct FloatBlock test_dct_data = {{
	{-415.38,  -30.19,  -61.20,   27.24,   56.12,  -20.10,   -2.39,    0.46}, 
	{4.47,  -21.86,  -60.76,   10.25,   13.15,   -7.09,   -8.54,    4.88}, 
	{-46.83,    7.37,   77.13,  -24.56,  -28.91,    9.93,    5.42,   -5.65}, 
	{-48.53,   12.07,   34.10,  -14.76,  -10.24,    6.30,    1.83,    1.95}, 
	{12.12,   -6.55,  -13.20,   -3.95,   -1.88,    1.75,   -2.79,    3.14}, 
	{-7.73,    2.91,    2.38,   -5.94,   -2.38,    0.94,    4.30,    1.85}, 
	{-1.03,    0.18,    0.42,   -2.42,   -0.88,   -3.02,    4.12,   -0.66}, 
	{-0.17,    0.14,   -1.07,   -4.19,   -1.17,   -0.10,    0.50,    1.68}
}};


/**
 * @brief RGB picture data of tiny.ppm
 */
const uint8_t tinypic_data[] = {
	114, 97, 55, 64, 57, 33, 199, 187, 121, 193, 
	184, 121, 199, 190, 125, 196, 186, 116, 186, 176, 
	109, 179, 177, 115, 175, 176, 119, 134, 126, 87, 
	93, 72, 37, 100, 74, 36, 108, 79, 41, 129, 
	106, 63, 130, 119, 77, 154, 158, 117, 166, 186, 
	156, 155, 176, 152, 164, 179, 149, 168, 174, 131, 
	164, 166, 116, 175, 182, 137, 181, 188, 143, 172, 
	176, 128, 173, 177, 133, 171, 181, 142, 168, 177, 
	137, 172, 180, 142, 164, 172, 133, 163, 170, 133, 
	162, 169, 131, 172, 175, 134, 190, 184, 121, 158, 
	152, 105, 195, 189, 129, 199, 193, 132, 205, 199, 
	136, 204, 195, 125, 197, 191, 126, 169, 164, 108, 
	80, 64, 35, 73, 50, 25, 96, 70, 39, 92, 
	63, 33, 89, 60, 31, 92, 65, 34, 104, 78, 
	43, 167, 169, 128, 170, 186, 147, 164, 183, 150, 
	165, 176, 144, 174, 181, 145, 171, 175, 131, 176, 
	181, 141, 172, 177, 136, 180, 187, 144, 176, 186, 
	145, 160, 171, 135, 165, 176, 137, 166, 173, 134, 
	169, 175, 136, 161, 170, 135, 169, 176, 142, 167, 
	173, 133, 199, 191, 125, 202, 195, 135, 196, 191, 
	130, 192, 187, 131, 195, 189, 131, 203, 197, 137, 
	170, 165, 114, 82, 69, 44, 67, 50, 29, 75, 
	55, 33, 85, 60, 31, 80, 57, 32, 86, 60, 
	33, 102, 72, 38, 153, 145, 103, 176, 191, 150, 
	166, 180, 143, 167, 183, 150, 157, 174, 148, 157, 
	173, 140, 163, 179, 141, 162, 173, 133, 167, 178, 
	138, 162, 170, 125, 166, 178, 139, 167, 179, 144, 
	162, 170, 132, 166, 179, 140, 160, 169, 135, 156, 
	170, 139, 158, 169, 132, 166, 173, 136, 190, 188, 
	130, 185, 183, 127, 194, 193, 130, 188, 186, 125, 
	192, 189, 128, 181, 171, 116, 93, 83, 53, 64, 
	52, 32, 85, 66, 42, 87, 65, 38, 69, 53, 
	31, 79, 60, 38, 110, 91, 62, 131, 126, 92, 
	174, 183, 141, 177, 187, 146, 174, 189, 150, 153, 
	168, 140, 155, 173, 149, 161, 179, 147, 166, 181, 
	146, 156, 171, 130, 161, 175, 138, 166, 179, 140, 
	171, 180, 142, 163, 169, 130, 157, 162, 126, 154, 
	160, 122, 158, 166, 126, 163, 173, 137, 161, 172, 
	137, 163, 168, 133, 183, 181, 120, 180, 177, 119, 
	188, 186, 128, 193, 192, 132, 192, 187, 126, 103, 
	95, 61, 55, 46, 31, 51, 41, 29, 89, 71, 
	43, 61, 48, 30, 73, 60, 44, 74, 59, 38, 
	78, 66, 45, 91, 85, 59, 172, 183, 147, 174, 
	187, 147, 170, 185, 146, 160, 173, 147, 158, 178, 
	152, 152, 171, 143, 159, 176, 141, 166, 181, 147, 
	163, 176, 137, 165, 172, 134, 170, 174, 135, 175, 
	179, 138, 165, 173, 134, 167, 174, 136, 162, 171, 
	137, 160, 170, 138, 160, 170, 134, 173, 176, 134, 
	184, 183, 127, 182, 183, 130, 180, 183, 131, 166, 
	165, 118, 104, 91, 57, 55, 45, 30, 32, 29, 
	19, 55, 46, 29, 47, 40, 25, 34, 31, 23, 
	68, 53, 34, 86, 69, 43, 65, 57, 39, 139, 
	147, 114, 159, 172, 137, 156, 170, 143, 160, 175, 
	144, 161, 177, 138, 169, 182, 145, 174, 187, 151, 
	166, 182, 147, 162, 177, 143, 160, 174, 135, 172, 
	184, 148, 159, 171, 133, 167, 178, 140, 175, 186, 
	149, 160, 170, 133, 171, 183, 148, 159, 171, 137, 
	150, 160, 123, 155, 164, 125, 171, 170, 119, 170, 
	174, 126, 161, 162, 117, 117, 109, 75, 77, 67, 
	45, 37, 32, 19, 34, 29, 20, 30, 24, 16, 
	31, 27, 16, 56, 45, 33, 82, 62, 43, 69, 
	58, 42, 84, 82, 60, 178, 191, 151, 174, 187, 
	147, 177, 188, 152, 182, 192, 150, 189, 196, 147, 
	182, 189, 142, 170, 183, 143, 167, 182, 143, 170, 
	181, 143, 171, 183, 146, 167, 182, 143, 166, 177, 
	142, 167, 180, 144, 163, 179, 140, 158, 169, 131, 
	152, 163, 131, 159, 171, 137, 157, 168, 134, 149, 
	159, 123, 167, 168, 122, 166, 171, 122, 107, 98, 
	65, 90, 80, 54, 49, 39, 26, 31, 28, 18, 
	44, 41, 28, 37, 33, 23, 58, 46, 31, 57, 
	49, 37, 71, 64, 42, 111, 106, 77, 172, 178, 
	134, 187, 193, 143, 189, 192, 140, 191, 195, 151, 
	184, 188, 136, 187, 190, 139, 183, 189, 141, 181, 
	190, 147, 182, 193, 146, 169, 177, 134, 163, 178, 
	133, 163, 177, 134, 138, 146, 109, 132, 141, 106, 
	155, 166, 127, 166, 181, 147, 155, 170, 135, 157, 
	171, 136, 152, 164, 126, 145, 158, 129, 195, 195, 
	145, 114, 111, 75, 70, 59, 41, 50, 42, 28, 
	37, 31, 23, 29, 24, 17, 34, 29, 20, 42, 
	34, 25, 63, 49, 33, 50, 43, 30, 84, 77, 
	56, 164, 165, 120, 189, 190, 140, 193, 194, 144, 
	192, 191, 142, 200, 200, 154, 193, 191, 138, 187, 
	190, 140, 187, 194, 147, 176, 183, 134, 172, 175, 
	127, 150, 155, 111, 151, 157, 116, 119, 120, 86, 
	119, 116, 82, 92, 91, 60, 132, 136, 101, 151, 
	162, 119, 155, 166, 129, 158, 165, 127, 142, 151, 
	112, 147, 159, 126, 154, 150, 103, 85, 77, 46, 
	66, 56, 37, 35, 32, 20, 32, 29, 20, 31, 
	27, 18, 47, 40, 30, 46, 38, 24, 51, 42, 
	29, 51, 42, 28, 144, 139, 102, 185, 186, 135, 
	175, 171, 122, 180, 181, 131, 193, 191, 143, 189, 
	188, 140, 197, 196, 142, 195, 193, 140, 176, 178, 
	126, 171, 173, 123, 152, 151, 106, 133, 134, 92, 
	98, 93, 64, 82, 75, 50, 95, 93, 63, 75, 
	71, 46, 88, 84, 55, 101, 99, 65, 148, 156, 
	120, 150, 154, 117, 153, 159, 125, 152, 167, 138, 
	103, 94, 61, 102, 89, 59, 51, 40, 27, 30, 
	26, 18, 30, 25, 18, 35, 31, 19, 40, 34, 
	22, 48, 39, 27, 59, 48, 35, 114, 107, 73, 
	165, 164, 116, 182, 178, 131, 182, 178, 133, 190, 
	188, 134, 193, 191, 137, 196, 197, 141, 191, 190, 
	136, 161, 159, 106, 131, 129, 84, 102, 94, 61, 
	98, 96, 64, 97, 96, 65, 103, 98, 65, 102, 
	96, 65, 88, 83, 55, 85, 80, 53, 99, 93, 
	63, 97, 91, 58, 109, 110, 72, 153, 161, 124, 
	159, 169, 134, 149, 161, 127, 94, 80, 52, 81, 
	71, 45, 33, 28, 19, 30, 26, 19, 31, 28, 
	18, 33, 29, 18, 37, 32, 21, 55, 45, 32, 
	96, 84, 56, 177, 174, 125, 205, 202, 160, 208, 
	205, 160, 206, 205, 158, 185, 182, 125, 184, 179, 
	128, 137, 129, 80, 181, 176, 125, 119, 114, 74, 
	102, 99, 64, 87, 84, 57, 85, 81, 53, 75, 
	73, 50, 71, 69, 48, 68, 67, 43, 85, 80, 
	56, 87, 81, 55, 86, 80, 53, 59, 54, 35, 
	132, 127, 94, 143, 146, 106, 116, 119, 81, 124, 
	130, 95, 67, 56, 36, 37, 34, 22, 33, 28, 
	19, 30, 25, 18, 34, 30, 20, 37, 34, 23, 
	50, 43, 30, 62, 51, 34, 133, 126, 92, 193, 
	190, 142, 210, 207, 168, 208, 206, 165, 215, 212, 
	172, 206, 205, 160, 129, 123, 83, 132, 128, 87, 
	86, 80, 53, 94, 88, 57, 87, 82, 55, 89, 
	84, 59, 83, 79, 55, 63, 60, 40, 61, 59, 
	40, 80, 75, 49, 78, 75, 47, 86, 80, 53, 
	75, 71, 46, 86, 82, 54, 76, 72, 45, 68, 
	63, 41, 79, 72, 46, 75, 68, 43, 53, 46, 
	32, 32, 29, 21, 29, 25, 17, 30, 25, 18, 
	33, 29, 19, 41, 34, 24, 49, 41, 30, 89, 
	84, 58, 195, 194, 150, 204, 201, 153, 205, 202, 
	157, 206, 205, 163, 194, 193, 146, 189, 188, 134, 
	105, 97, 64, 48, 42, 29, 64, 62, 46, 80, 
	76, 54, 83, 78, 51, 74, 69, 45, 61, 56, 
	37, 63, 58, 40, 75, 69, 44, 75, 68, 45, 
	88, 81, 51, 87, 82, 52, 77, 73, 46, 79, 
	74, 50, 70, 65, 44, 73, 70, 45, 73, 68, 
	45, 65, 59, 41, 39, 36, 24, 28, 25, 17, 
	26, 23, 16, 27, 25, 17, 31, 26, 16, 40, 
	33, 19, 68, 57, 40, 161, 159, 116, 195, 192, 
	144, 196, 194, 144, 206, 204, 159, 202, 199, 156, 
	181, 179, 127, 152, 149, 101, 125, 120, 82, 93, 
	87, 61, 79, 73, 49, 92, 85, 55, 90, 83, 
	51, 54, 49, 31, 63, 56, 35, 63, 56, 37, 
	59, 52, 33, 62, 56, 35, 65, 59, 37, 63, 
	58, 38, 74, 69, 45, 74, 70, 45, 71, 69, 
	45, 68, 63, 43, 66, 61, 41, 67, 65, 43, 
	31, 28, 21, 25, 23, 16, 26, 21, 15, 30, 
	27, 18, 34, 29, 20, 57, 46, 33, 105, 95, 
	62, 155, 149, 97, 135, 133, 91, 123, 125, 78, 
	119, 126, 86, 150, 152, 103, 175, 173, 122, 105, 
	99, 66, 74, 68, 44, 82, 76, 50, 51, 46, 
	29, 67, 61, 37, 70, 64, 37, 48, 42, 25, 
	58, 50, 34, 61, 54, 35, 52, 45, 27, 54, 
	47, 31, 53, 46, 29, 65, 59, 37, 67, 60, 
	36, 82, 77, 51, 72, 68, 46, 70, 66, 44, 
	71, 66, 46, 75, 72, 50 
};

const struct ByteBlock zigzag_order = { .data = {
	{0,  8, 1, 2, 9, 16, 24, 17},
	{10, 3, 4, 11, 18, 25, 32, 40},
	{33, 26, 19, 12, 5, 6, 13, 20},
	{27, 34, 41, 48, 56, 49, 42, 35},
	{28, 21, 14, 7, 15, 22, 29, 36},
	{43, 50, 57, 58, 51, 44, 37, 30},
	{23, 31, 38, 45, 52, 59, 60, 53},
	{46, 39, 47, 54, 61, 62, 55, 63}
}};

uint8_t tree_data[7] = {1, 1, 1, 5, 0, 52, 52};
